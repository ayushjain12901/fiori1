sap.ui.define([
	"demoapp/controller/BaseController",
	"sap/ui/model/Filter",
	"sap/ui/model/FilterOperator"
], function (BaseController, Filter, FilterOperator) {
	"use strict";
	return BaseController.extend("demoapp.controller.SalesOrders", {

		onInit: function () {},
		onListItemPress: function (oEvent) {
			//This code was generated by the layout editor.
			var salesOrderId = oEvent.getSource().getTitle();
			var oRouter = sap.ui.core.UIComponent.getRouterFor(this);
			oRouter.navTo("detail", {
				sId: salesOrderId
			});
		},
		onSearch: function (oEvent) {
			//This code was generated by the layout editor.
			debugger;
			var aFilter = [];
			/* Parameter is newValue since search is being done for live change. 
				In case the search was being done on click of button the parameter to be used would be query.*/
			var qryStr = oEvent.getParameter("newValue");

			//var qryStr = oEvent.getParameter("query"); 

			if (qryStr) {
				aFilter.push(new Filter("SalesOrderID", FilterOperator.Contains, qryStr));
			}

			var oList = this.getView().byId("list0");
			var oBinding = oList.getBinding("items");
			oBinding.filter(aFilter);
		},
		onSearchClick: function (oEvent) {
			//This code was generated by the layout editor.
			debugger;
			var aFilter = [];
			/* Parameter is newValue since search is being done for live change. 
				In case the search was being done on click of button the parameter to be used would be query.*/
			// var qryStr = oEvent.getParameter("newValue");

			var qryStr = oEvent.getParameter("query");

			if (qryStr) {
				aFilter.push(new Filter("SalesOrderID", FilterOperator.Contains, qryStr));
			}

			var oList = this.getView().byId("list0");
			var oBinding = oList.getBinding("items");
			oBinding.filter(aFilter);
		},

		/*Search function for filtering Gross Amount (filter on a range)*/
		filterGrossAmount: function (oEvent) {
			debugger;
			var aFilter = [];

			var qryStrng = oEvent.getParameter("query");
			if (qryStrng) {
				aFilter.push(new Filter("GrossAmount", sap.ui.model.FilterOperator.LE, qryStrng));
			}

			var oList = this.getView().byId("list0");
			var oBinding = oList.getBinding("items");

			oBinding.filter(aFilter);
		}
	});
});