sap.ui.define([
	"demoapp/controller/BaseController",
	"sap/m/MessageBox"
], function (BaseController, MessageBox) {
	"use strict";
	return BaseController.extend("demoapp.controller.Product", {

		onInit: function () {},

		createProduct: function (oEvent) {
			//This code was generated by the layout editor.
			/*Manual code written here*/
			var oEntry = {};
			oEntry.ProductID = this.getView().byId("ip1").getValue();
			oEntry.Name = this.getView().byId("ip2").getValue();
			oEntry.Description = this.getView().byId("ip3").getValue();
			oEntry.TypeCode = "PR";
			oEntry.Category = "Notebooks";
			oEntry.SupplierID = "0100000000";
			oEntry.TaxTarifCode = 1;
			oEntry.MeasureUnit = "EA";
			oEntry.CurrencyCode = "USD";
			this.getView().getModel("rootModel").create("/ProductSet", oEntry, {
				success: function (oData, response) {
					MessageBox.success("Product successfully created in server");
				},
				error: function (oError) {
					MessageBox.error("Error occurred while creating Product in server. Please check logs for more details.");
				}
			});
		},
		
		updateProduct: function (oEvent) {
			//This code was generated by the layout editor.

			/*Manual code written here*/
			var oEntry = {};
			oEntry.ProductID = this.getView().byId("ip1").getValue();
			oEntry.Name = this.getView().byId("ip2").getValue();
			oEntry.Description = this.getView().byId("ip3").getValue();

			var sPath = "/ProductSet('" + this.getView().byId("ip1").getValue() + "')";

			this.getView().getModel("rootModel").update(sPath, oEntry, {
				success: function (oData, response) {
					MessageBox.success("Product successfully updated in server");
				},
				error: function (oError) {
					MessageBox.error("Error occurred while updating Product in server. Please check logs for more details.");
				}
			});
		},

		deleteProduct: function (oEvent) {
			var sPath = "/ProductSet('" + this.getView().byId("ip1").getValue() + "')";

			this.getView().getModel("rootModel").remove(sPath, {
				success: function (oData, response) {
					MessageBox.success("Product successfully updated in server");
				},
				error: function (oError) {
					MessageBox.error("Error occurred while updating Product in server. Please check logs for more details.");
				}
			});
		}
	});
});